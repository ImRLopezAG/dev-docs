---
title: API Gateway CLI Reference
description: AWS CLI commands for API Gateway
---

Complete reference for AWS API Gateway CLI commands with examples.

## REST API Management

### Create REST API

```bash
aws apigateway create-rest-api \
  --name my-api \
  --description "My REST API" \
  --endpoint-configuration types=REGIONAL
```

### Get REST APIs

```bash
aws apigateway get-rest-apis

# Get specific API
aws apigateway get-rest-api --rest-api-id abc123
```

### Delete REST API

```bash
aws apigateway delete-rest-api --rest-api-id abc123
```

## Resources

### Get Root Resource

```bash
aws apigateway get-resources --rest-api-id abc123
```

### Create Resource

```bash
# Get root resource ID first
ROOT_ID=$(aws apigateway get-resources --rest-api-id abc123 --query 'items[?path==`/`].id' --output text)

# Create /users resource
aws apigateway create-resource \
  --rest-api-id abc123 \
  --parent-id $ROOT_ID \
  --path-part users

# Create /users/{id} resource
aws apigateway create-resource \
  --rest-api-id abc123 \
  --parent-id users-resource-id \
  --path-part "{id}"
```

### Delete Resource

```bash
aws apigateway delete-resource \
  --rest-api-id abc123 \
  --resource-id xyz789
```

## Methods

### Create Method

```bash
# Create GET method
aws apigateway put-method \
  --rest-api-id abc123 \
  --resource-id xyz789 \
  --http-method GET \
  --authorization-type NONE

# With API key required
aws apigateway put-method \
  --rest-api-id abc123 \
  --resource-id xyz789 \
  --http-method POST \
  --authorization-type NONE \
  --api-key-required

# With IAM authorization
aws apigateway put-method \
  --rest-api-id abc123 \
  --resource-id xyz789 \
  --http-method GET \
  --authorization-type AWS_IAM
```

### Delete Method

```bash
aws apigateway delete-method \
  --rest-api-id abc123 \
  --resource-id xyz789 \
  --http-method GET
```

## Integrations

### Lambda Integration

```bash
aws apigateway put-integration \
  --rest-api-id abc123 \
  --resource-id xyz789 \
  --http-method GET \
  --type AWS_PROXY \
  --integration-http-method POST \
  --uri arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:123456789012:function:my-function/invocations
```

### HTTP Integration

```bash
aws apigateway put-integration \
  --rest-api-id abc123 \
  --resource-id xyz789 \
  --http-method GET \
  --type HTTP_PROXY \
  --integration-http-method GET \
  --uri https://api.example.com/endpoint
```

### Mock Integration

```bash
aws apigateway put-integration \
  --rest-api-id abc123 \
  --resource-id xyz789 \
  --http-method GET \
  --type MOCK \
  --request-templates '{"application/json": "{\"statusCode\": 200}"}'
```

## Method Responses

### Create Method Response

```bash
aws apigateway put-method-response \
  --rest-api-id abc123 \
  --resource-id xyz789 \
  --http-method GET \
  --status-code 200 \
  --response-models '{"application/json": "Empty"}'
```

## Integration Responses

### Create Integration Response

```bash
aws apigateway put-integration-response \
  --rest-api-id abc123 \
  --resource-id xyz789 \
  --http-method GET \
  --status-code 200 \
  --selection-pattern ""
```

## Deployments

### Create Deployment

```bash
aws apigateway create-deployment \
  --rest-api-id abc123 \
  --stage-name prod \
  --stage-description "Production stage" \
  --description "Initial deployment"
```

### Get Deployments

```bash
aws apigateway get-deployments --rest-api-id abc123
```

## Stages

### Create Stage

```bash
aws apigateway create-stage \
  --rest-api-id abc123 \
  --stage-name dev \
  --deployment-id def456 \
  --description "Development stage"
```

### Update Stage

```bash
# Enable caching
aws apigateway update-stage \
  --rest-api-id abc123 \
  --stage-name prod \
  --patch-operations '[
    {"op": "replace", "path": "/cacheClusterEnabled", "value": "true"},
    {"op": "replace", "path": "/cacheClusterSize", "value": "0.5"}
  ]'

# Set throttling
aws apigateway update-stage \
  --rest-api-id abc123 \
  --stage-name prod \
  --patch-operations '[
    {"op": "replace", "path": "/*/*/throttling/rateLimit", "value": "1000"},
    {"op": "replace", "path": "/*/*/throttling/burstLimit", "value": "2000"}
  ]'
```

### Get Stage

```bash
aws apigateway get-stage \
  --rest-api-id abc123 \
  --stage-name prod
```

### Delete Stage

```bash
aws apigateway delete-stage \
  --rest-api-id abc123 \
  --stage-name dev
```

## API Keys

### Create API Key

```bash
aws apigateway create-api-key \
  --name my-api-key \
  --description "API key for my app" \
  --enabled
```

### Get API Keys

```bash
aws apigateway get-api-keys --include-values
```

### Delete API Key

```bash
aws apigateway delete-api-key --api-key abc123
```

## Usage Plans

### Create Usage Plan

```bash
aws apigateway create-usage-plan \
  --name my-usage-plan \
  --description "Standard usage plan" \
  --throttle burstLimit=500,rateLimit=1000 \
  --quota limit=10000,period=MONTH \
  --api-stages apiId=abc123,stage=prod
```

### Add API Key to Usage Plan

```bash
aws apigateway create-usage-plan-key \
  --usage-plan-id plan123 \
  --key-id key456 \
  --key-type API_KEY
```

### Get Usage

```bash
aws apigateway get-usage \
  --usage-plan-id plan123 \
  --start-date 2024-01-01 \
  --end-date 2024-01-31
```

## Authorizers

### Create Lambda Authorizer

```bash
aws apigateway create-authorizer \
  --rest-api-id abc123 \
  --name my-authorizer \
  --type TOKEN \
  --authorizer-uri arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:123456789012:function:authorizer/invocations \
  --identity-source method.request.header.Authorization \
  --authorizer-result-ttl-in-seconds 300
```

### Create Cognito Authorizer

```bash
aws apigateway create-authorizer \
  --rest-api-id abc123 \
  --name cognito-authorizer \
  --type COGNITO_USER_POOLS \
  --provider-arns arn:aws:cognito-idp:us-east-1:123456789012:userpool/us-east-1_abc123 \
  --identity-source method.request.header.Authorization
```

### Get Authorizers

```bash
aws apigateway get-authorizers --rest-api-id abc123
```

## Custom Domain Names

### Create Domain Name

```bash
aws apigateway create-domain-name \
  --domain-name api.example.com \
  --regional-certificate-arn arn:aws:acm:us-east-1:123456789012:certificate/abc123 \
  --endpoint-configuration types=REGIONAL
```

### Create Base Path Mapping

```bash
aws apigateway create-base-path-mapping \
  --domain-name api.example.com \
  --rest-api-id abc123 \
  --stage prod \
  --base-path v1
```

### Get Domain Names

```bash
aws apigateway get-domain-names
```

## HTTP API (API Gateway v2)

### Create HTTP API

```bash
aws apigatewayv2 create-api \
  --name my-http-api \
  --protocol-type HTTP \
  --target arn:aws:lambda:us-east-1:123456789012:function:my-function
```

### Get HTTP APIs

```bash
aws apigatewayv2 get-apis
```

### Create Route

```bash
aws apigatewayv2 create-route \
  --api-id abc123 \
  --route-key "GET /users"
```

### Create Integration

```bash
aws apigatewayv2 create-integration \
  --api-id abc123 \
  --integration-type AWS_PROXY \
  --integration-uri arn:aws:lambda:us-east-1:123456789012:function:my-function \
  --payload-format-version 2.0
```

### Create Stage

```bash
aws apigatewayv2 create-stage \
  --api-id abc123 \
  --stage-name prod \
  --auto-deploy
```

### Delete HTTP API

```bash
aws apigatewayv2 delete-api --api-id abc123
```

## Export/Import

### Export API

```bash
# OpenAPI 3.0
aws apigateway get-export \
  --rest-api-id abc123 \
  --stage-name prod \
  --export-type oas30 \
  api-export.json
```

### Import API

```bash
aws apigateway import-rest-api \
  --body fileb://api-definition.json
```

### Update API from Import

```bash
aws apigateway put-rest-api \
  --rest-api-id abc123 \
  --mode overwrite \
  --body fileb://api-definition.json
```

## Tags

```bash
# Add tags
aws apigateway tag-resource \
  --resource-arn arn:aws:apigateway:us-east-1::/restapis/abc123 \
  --tags Environment=Production

# Get tags
aws apigateway get-tags \
  --resource-arn arn:aws:apigateway:us-east-1::/restapis/abc123
```
