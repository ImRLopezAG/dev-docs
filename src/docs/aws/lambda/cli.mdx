---
title: Lambda CLI Reference
description: AWS CLI commands for Lambda
---

Complete reference for AWS Lambda CLI commands with examples.

## Function Management

### Create Function

```bash
# Create from ZIP file
aws lambda create-function \
  --function-name my-function \
  --runtime nodejs20.x \
  --handler index.handler \
  --zip-file fileb://function.zip \
  --role arn:aws:iam::123456789012:role/lambda-role

# Create from S3
aws lambda create-function \
  --function-name my-function \
  --runtime python3.12 \
  --handler app.handler \
  --code S3Bucket=my-bucket,S3Key=function.zip \
  --role arn:aws:iam::123456789012:role/lambda-role

# With environment variables
aws lambda create-function \
  --function-name my-function \
  --runtime nodejs20.x \
  --handler index.handler \
  --zip-file fileb://function.zip \
  --role arn:aws:iam::123456789012:role/lambda-role \
  --environment Variables="{TABLE_NAME=users,STAGE=prod}"
```

**Common Options:**
| Option | Description |
|--------|-------------|
| `--function-name` | Function name (required) |
| `--runtime` | Runtime identifier |
| `--handler` | Entry point |
| `--zip-file` | Path to ZIP file |
| `--code` | S3 location |
| `--role` | Execution role ARN |
| `--memory-size` | Memory in MB (128-10240) |
| `--timeout` | Timeout in seconds (1-900) |
| `--environment` | Environment variables |

### Update Function Code

```bash
# Update from ZIP
aws lambda update-function-code \
  --function-name my-function \
  --zip-file fileb://function.zip

# Update from S3
aws lambda update-function-code \
  --function-name my-function \
  --s3-bucket my-bucket \
  --s3-key function.zip

# Publish new version
aws lambda update-function-code \
  --function-name my-function \
  --zip-file fileb://function.zip \
  --publish
```

### Update Function Configuration

```bash
# Update memory and timeout
aws lambda update-function-configuration \
  --function-name my-function \
  --memory-size 512 \
  --timeout 30

# Update environment variables
aws lambda update-function-configuration \
  --function-name my-function \
  --environment Variables="{TABLE_NAME=users,STAGE=prod}"

# Update runtime
aws lambda update-function-configuration \
  --function-name my-function \
  --runtime nodejs20.x

# Add VPC configuration
aws lambda update-function-configuration \
  --function-name my-function \
  --vpc-config SubnetIds=subnet-123,subnet-456,SecurityGroupIds=sg-789
```

### Get Function

```bash
# Get function details
aws lambda get-function --function-name my-function

# Get function configuration only
aws lambda get-function-configuration --function-name my-function

# Download function code
aws lambda get-function \
  --function-name my-function \
  --query 'Code.Location' \
  --output text | xargs curl -o function.zip
```

### List Functions

```bash
# List all functions
aws lambda list-functions

# List function names only
aws lambda list-functions \
  --query 'Functions[*].FunctionName' \
  --output text

# List with pagination
aws lambda list-functions --max-items 10
```

### Delete Function

```bash
aws lambda delete-function --function-name my-function
```

## Invoking Functions

### Synchronous Invocation

```bash
# Invoke and get response
aws lambda invoke \
  --function-name my-function \
  --payload '{"key": "value"}' \
  response.json

# Invoke with CLI payload
aws lambda invoke \
  --function-name my-function \
  --cli-binary-format raw-in-base64-out \
  --payload '{"name": "John"}' \
  response.json
```

### Asynchronous Invocation

```bash
aws lambda invoke \
  --function-name my-function \
  --invocation-type Event \
  --payload '{"key": "value"}' \
  response.json
```

### Dry Run

```bash
aws lambda invoke \
  --function-name my-function \
  --invocation-type DryRun \
  --payload '{"key": "value"}' \
  response.json
```

## Versions and Aliases

### Publish Version

```bash
aws lambda publish-version \
  --function-name my-function \
  --description "Version 1.0.0"
```

### List Versions

```bash
aws lambda list-versions-by-function --function-name my-function
```

### Create Alias

```bash
aws lambda create-alias \
  --function-name my-function \
  --name prod \
  --function-version 1

# Alias with weighted routing
aws lambda create-alias \
  --function-name my-function \
  --name prod \
  --function-version 2 \
  --routing-config AdditionalVersionWeights={"1"=0.1}
```

### Update Alias

```bash
aws lambda update-alias \
  --function-name my-function \
  --name prod \
  --function-version 3
```

### Delete Alias

```bash
aws lambda delete-alias \
  --function-name my-function \
  --name prod
```

## Event Source Mappings

### Create Event Source Mapping

```bash
# SQS
aws lambda create-event-source-mapping \
  --function-name my-function \
  --event-source-arn arn:aws:sqs:us-east-1:123456789012:my-queue \
  --batch-size 10

# DynamoDB Streams
aws lambda create-event-source-mapping \
  --function-name my-function \
  --event-source-arn arn:aws:dynamodb:us-east-1:123456789012:table/my-table/stream/timestamp \
  --starting-position LATEST \
  --batch-size 100

# Kinesis
aws lambda create-event-source-mapping \
  --function-name my-function \
  --event-source-arn arn:aws:kinesis:us-east-1:123456789012:stream/my-stream \
  --starting-position TRIM_HORIZON \
  --batch-size 100
```

### List Event Source Mappings

```bash
aws lambda list-event-source-mappings --function-name my-function
```

### Update Event Source Mapping

```bash
aws lambda update-event-source-mapping \
  --uuid abc-123-def \
  --batch-size 50
```

### Delete Event Source Mapping

```bash
aws lambda delete-event-source-mapping --uuid abc-123-def
```

## Layers

### Publish Layer Version

```bash
aws lambda publish-layer-version \
  --layer-name my-layer \
  --description "Common utilities" \
  --zip-file fileb://layer.zip \
  --compatible-runtimes nodejs18.x nodejs20.x \
  --compatible-architectures x86_64 arm64
```

### List Layers

```bash
aws lambda list-layers

# List layer versions
aws lambda list-layer-versions --layer-name my-layer
```

### Add Layer to Function

```bash
aws lambda update-function-configuration \
  --function-name my-function \
  --layers arn:aws:lambda:us-east-1:123456789012:layer:my-layer:1
```

### Delete Layer Version

```bash
aws lambda delete-layer-version \
  --layer-name my-layer \
  --version-number 1
```

## Permissions

### Add Permission

```bash
# Allow API Gateway
aws lambda add-permission \
  --function-name my-function \
  --statement-id api-gateway \
  --action lambda:InvokeFunction \
  --principal apigateway.amazonaws.com \
  --source-arn arn:aws:execute-api:us-east-1:123456789012:api-id/*

# Allow S3
aws lambda add-permission \
  --function-name my-function \
  --statement-id s3-trigger \
  --action lambda:InvokeFunction \
  --principal s3.amazonaws.com \
  --source-arn arn:aws:s3:::my-bucket \
  --source-account 123456789012

# Allow SNS
aws lambda add-permission \
  --function-name my-function \
  --statement-id sns-trigger \
  --action lambda:InvokeFunction \
  --principal sns.amazonaws.com \
  --source-arn arn:aws:sns:us-east-1:123456789012:my-topic
```

### Get Policy

```bash
aws lambda get-policy --function-name my-function
```

### Remove Permission

```bash
aws lambda remove-permission \
  --function-name my-function \
  --statement-id api-gateway
```

## Concurrency

### Get Concurrency

```bash
aws lambda get-function-concurrency --function-name my-function
```

### Set Reserved Concurrency

```bash
aws lambda put-function-concurrency \
  --function-name my-function \
  --reserved-concurrent-executions 100
```

### Delete Reserved Concurrency

```bash
aws lambda delete-function-concurrency --function-name my-function
```

### Provisioned Concurrency

```bash
# Set provisioned concurrency
aws lambda put-provisioned-concurrency-config \
  --function-name my-function \
  --qualifier prod \
  --provisioned-concurrent-executions 50

# Get provisioned concurrency
aws lambda get-provisioned-concurrency-config \
  --function-name my-function \
  --qualifier prod

# Delete provisioned concurrency
aws lambda delete-provisioned-concurrency-config \
  --function-name my-function \
  --qualifier prod
```

## URL Configuration

### Create Function URL

```bash
aws lambda create-function-url-config \
  --function-name my-function \
  --auth-type NONE

# With IAM auth
aws lambda create-function-url-config \
  --function-name my-function \
  --auth-type AWS_IAM
```

### Get Function URL

```bash
aws lambda get-function-url-config --function-name my-function
```

### Delete Function URL

```bash
aws lambda delete-function-url-config --function-name my-function
```

## Tags

```bash
# Tag function
aws lambda tag-resource \
  --resource arn:aws:lambda:us-east-1:123456789012:function:my-function \
  --tags Environment=Production,Team=Backend

# List tags
aws lambda list-tags \
  --resource arn:aws:lambda:us-east-1:123456789012:function:my-function

# Remove tags
aws lambda untag-resource \
  --resource arn:aws:lambda:us-east-1:123456789012:function:my-function \
  --tag-keys Environment
```
